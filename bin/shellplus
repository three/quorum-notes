#!/usr/bin/env zsh
set -eu -o pipefail
zparseopts -D -E -F l=OPT_LOCAL -help=OPT_HELP

[[ -n $OPT_HELP ]] && cat <<EOF && exit 0
Calls manage.py shell_plus

Options:
    -l
        Sets environment variables to local options beforehand
EOF

if [[ -n $OPT_LOCAL ]]; then
    export USE_NONDOCKERIZED_LOCAL_DB=True
    export DOCKER_TESTING_LOCAL_ES=True
fi

exec python manage.py shell_plus
